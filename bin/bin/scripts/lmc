#!/bin/sh

# A general audio interface this extends on the frame work layed out by luke smith ( lukesmith.xyz ) in
# github.com/LukeSmithxyz/voidrice/blob/archi3/.local/bin/tools/lmc and brings in the new changes from the new version.

if command -v pulseaudio 1> /dev/null ; then
		mtoggle() { pulsemixer --toggle-mute ;}
		mute() { pulsemixer --mute ;}
		mixer() { pulsemixer ;}
fi

CMD=playerctl
if command -v playerctl 1> /dev/null ; then
		ptoggle() { playerctl play-pause ;}
else
		CMD=mpc
		ptoggle() { mpc toggle ;}
fi

case "$1" in
	mute-toggle) mtoggle ;;
	play-pause) ptoggle ;;
	toggle) ptoggle ;;
	mute) mute ;;
	up) up ;;
	down) down ;;
	play) $CMD play ;;
	pause) $CMD pause ;;
	next) $CMD next ;;
	prev) $CMD prev ;;
	seek) $CMD "${2:-5}" ;;
	r*) $CMD seek 0% ;;
	mixer) mixer ;;
esac

pkill -RTMIN+10 dwmblocks &
