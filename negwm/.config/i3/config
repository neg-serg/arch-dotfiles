floating_modifier Mod4
tiling_drag modifier
focus_follows_mouse no
font pango: Iosevka Bold 14
hide_edge_borders both

set  $bg     #000000ff
set  $fg     #899CA1
set  $ib     #285981
set  $ub     #2E2457
set  $bl     #285981

# <colorclass>          <border> <bg> <text> <indicator> <child_border>
client.focused           $bg     $bg  $fg    $bg         $bg
client.focused_inactive  $bg     $bg  $fg    $bg         $bg
client.placeholder       $bg     $bg  $fg    $bg         $bg
client.unfocused         $bg     $bg  $bl    $bg         $bg
client.urgent            $bg     $bg  $fg    $ub         $bg
client.background        $bg

exec systemctl --user restart --no-block negwm
exec i3-msg restart
exec ~/bin/wl -r
exec_always dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK
exec_always systemctl --user start --no-block i3-session.target

for_window [all] title_window_icon on
for_window [all] title_format "<b>%title</b>"
for_window [tiling] border none

for_window [class="(?i)(alacr|k)itty"] border none
for_window [class="(?i)\.exe"] floating enable, border none, move position center
for_window [class="^(inkscape|gimp)$"] move workspace $draw
for_window [class="(?i)(?:qt5ct|gcolor3|rdesktop|nvidia-settings|openssh-askpass|lutris|steam_app_.*|wine)"] floating enable, border normal
for_window [instance="^(gpartedbin|recoll)$"] move workspace $sys, floating enable, border normal, focus
for_window [title="(?i)(?:File Transfer.*)"] floating enable, border normal
for_window [window_role="browser"] border none
for_window [window_role="^(pop-up|task_dialog)$"] floating enable, border normal
for_window [floating_from="auto" title="Firefox â€” Sharing Indicator"] border none, sticky enable, move position 10 ppt -5 px
for_window [floating_from="auto" title=" is sharing your screen.$"] border none, sticky enable, move position 10 ppt -5 px

no_focus [floating_from="auto" title=" is sharing your screen.$"]
no_focus [floating_from="auto" title="Firefox â€” Sharing Indicator"]
no_focus [window_type="splash"]

set $menu exec ~/src/negwm/menu

# :>> NegWM
# :>> Module bindings
set $actions nop actions
set $circle nop circle
set $configurator nop configurator
set $executor nop executor
set $fullscreen nop fullscreen
set $lastgo nop lastgo
set $reflection nop reflection
set $scratchpad nop scratchpad
set $circle-bitwig [class="Bitwig Studio"]
set $circle-doc [class="^(Zathura|cr3)$"]
set $circle-nsxiv [class="Nsxiv"]
set $circle-dev [class="nwim"]
set $circle-obs [class="obs"]
set $circle-remote [class="^(xfreerdp|reminna|org.remmina.Remmina)$"]
set $circle-games [class="^(Steam|steam)$"]
set $circle-term [instance="term"]
set $circle-vid [class="mpv"]
set $circle-vm [class="spicy"]
set $circle-web [class="^(firefox|firefoxdeveloperedition|Tor Browser|Chromium)$"]
for_window $circle-bitwig move to workspace $sound,focus
for_window $circle-doc move to workspace $doc,focus
for_window $circle-dev move to workspace $dev,focus
for_window $circle-obs move to workspace $obs,focus
for_window $circle-remote move to workspace $remote,focus
for_window $circle-games move to workspace $games,focus
for_window $circle-term move to workspace $term,focus
for_window $circle-vid move to workspace $gfx,focus
for_window $circle-vm move to workspace $vm,focus
for_window $circle-web move to workspace $web,focus

# :>> Config section workspaces
set $term "îˆ¶ï¸ ðŒ°:term"
set $web "ï‰© ðŒ±:web"
set $dev "î‰§ ðŒ²:dev"
set $doc "ï…œ ðŒ³:doc"
set $draw "ï€¾ ðŒ´:draw"
set $gfx "ß· ðŒµ:gfx"
set $obs "âœ½ ðŒ¶:obs"
set $pic "ï€¾ ðŒ·:pic"
set $games "ï†· ðŒ¸:games"
set $sys "ï‚­ ðŒ¹:sys"
set $vm "ï‡ ðŒº:vm"
set $wine "ï‡‹ ðŒ»:wine"

# :>> Config section default

bindsym Mod4+4 exec ~/bin/screenshot
bindsym Mod4+Control+4 exec ~/bin/screenshot -r
bindsym Mod4+Shift+4 exec /usr/bin/flameshot gui

bindsym Mod1+grave exec --no-startup-id /usr/bin/rofi -modi drun -show drun -show-icons -drun-match-fields name -display-drun '~>' -theme run || rofi -show run || dmenu_run
bindsym Mod4+8 exec --no-startup-id ~/bin/pl vol mute
bindsym Mod4+c exec --no-startup-id ~/bin/clip
bindsym Mod4+m exec --no-startup-id /bin/zsh -c "~/bin/music-rename current"
bindsym Mod4+Shift+p exec --no-startup-id ~/bin/rofi-tmux-urls
bindsym Mod4+Shift+8 exec --no-startup-id ~/bin/pl vol unmute
bindsym Mod4+Shift+9 exec --no-startup-id /usr/bin/dunstctl history-pop
bindsym Mod4+Shift+l exec --no-startup-id ~/bin/rofi-lutris
bindsym Mod4+Shift+m exec --no-startup-id ~/bin/main-menu
bindsym Mod4+Shift+x exec --no-startup-id /bin/zsh -c "~/bin/game start && ~/bin/game end"
bindsym Mod4+p exec --no-startup-id /bin/zsh -c /usr/bin/rofi-pass
bindsym Mod4+space exec --no-startup-id /usr/bin/dunstctl close-all
bindsym Mod4+Return exec --no-startup-id /usr/bin/i3-sensible-terminal
bindsym XF86Sleep exec --no-startup-id /usr/bin/systemctl suspend

bindsym Mod4+h focus left
bindsym Mod4+j focus down
bindsym Mod4+k focus up
bindsym Mod4+l focus right
bindsym Mod4+7 focus child

bindsym Mod1+Control+a focus parent
bindsym Mod1+Control+c focus child

bindsym Mod4+Shift+bracketleft move workspace to output left
bindsym Mod4+Shift+bracketright move workspace to output right

bindsym Mod4+apostrophe reload; exec --no-startup-id systemctl --user restart negwm
bindsym Mod4+backslash reload; exec --no-startup-id systemctl --user restart negwm; exec --no-startup-id polybar-msg cmd restart
bindsym Mod4+Shift+apostrophe restart

bindsym Mod4+grave $lastgo focus_next_visible
bindsym Mod4+Shift+grave $lastgo focus_prev_visible
bindsym Mod1+Tab $lastgo switch
bindsym Mod4+slash $lastgo switch

bindsym Mod4+Control+a $scratchpad dialog
bindsym Mod4+Control+s $scratchpad geom_dump
bindsym Mod4+Control+space $scratchpad geom_restore
bindsym Mod4+s $scratchpad hide_current
bindsym Mod4+3 $scratchpad next

bindsym Mod4+period exec --no-startup-id ~/bin/pl cmd next
bindsym Mod4+Shift+2 exec --no-startup-id ~/bin/pl cmd play-pause
bindsym Mod4+comma exec --no-startup-id ~/bin/pl cmd previous
bindsym XF86AudioLowerVolume exec --no-startup-id ~/bin/pl vol down
bindsym XF86AudioRaiseVolume exec --no-startup-id ~/bin/pl vol up

bindsym XF86AudioNext exec --no-startup-id ~/bin/pl cmd next
bindsym XF86AudioPlay exec --no-startup-id ~/bin/pl cmd play
bindsym XF86AudioPrev exec --no-startup-id ~/bin/pl cmd previous
bindsym XF86AudioStop exec --no-startup-id ~/bin/pl cmd stop

bindsym Mod1+Control+g $menu/winact ws
bindsym Mod1+g $menu/winact win
bindsym Mod4+Control+grave $menu/i3menu
bindsym Mod4+Shift+a $menu/winact attach
bindsym Mod4+Shift+s $menu/props
bindsym Mod4+Shift+d $menu/props del

bindsym Mod4+Escape kill
bindsym Mod4+q fullscreen toggle
bindsym Mod4+y sticky toggle
bindsym Mod1+Control+s layout stacking
bindsym Mod1+Control+r layout tabbed
bindsym Mod1+Control+t layout tabbed
bindsym Mod1+Control+e layout toggle split
bindsym Mod4+Control+b $circle next bitwig
bindsym Mod4+o $circle next doc
bindsym Mod4+Control+c $circle next nsxiv
bindsym Mod4+Shift+c $circle subtag nsxiv wallpaper
bindsym Mod4+1 $circle next dev
bindsym Mod4+Shift+o $circle next obs
bindsym Mod4+Control+5 $circle next remote
bindsym Mod4+Shift+e $circle next games
bindsym Mod4+x $circle next term
bindsym Mod4+b $circle next vid
bindsym Mod4+Control+v $circle next vm
bindsym Mod4+w $circle next web
bindsym Mod4+v $scratchpad toggle discord
bindsym Mod4+e $scratchpad toggle im
bindsym Mod4+i $scratchpad toggle nb
bindsym Mod4+f $scratchpad toggle ncmpcpp
bindsym Mod4+n $scratchpad toggle neomutt
bindsym Mod4+d $scratchpad toggle teardrop
bindsym Mod4+t $scratchpad toggle torrment
bindsym Mod4+Shift+y $scratchpad toggle youtube

# :>> Config section resize
bindsym Mod4+r mode "%{T4}ï¤%{T-}"
mode %{T4}ï¤%{T-} {
	bindsym j $actions resize bottom 20
	bindsym s $actions resize bottom 20
	bindsym h $actions resize left 20
	bindsym a $actions resize left 20
	bindsym l $actions resize right 20
	bindsym d $actions resize right 20
	bindsym k $actions resize top 20
	bindsym w $actions resize top 20

	bindsym Shift+j $actions resize bottom -4
	bindsym Shift+s $actions resize bottom -4
	bindsym Shift+h $actions resize left -4
	bindsym Shift+a $actions resize left -4
	bindsym Shift+l $actions resize right -4
	bindsym Shift+d $actions resize right -4
	bindsym Shift+k $actions resize top -4
	bindsym Shift+w $actions resize top -4
	bindsym Return, mode "default"
	bindsym Escape, mode "default"
	bindsym space, mode "default"
	bindsym Control+C, mode "default"
	bindsym Control+G, mode "default"
}

# :>> Config section spec
bindsym Mod1+e mode "%{T4}ï†²%{T-}"
mode %{T4}ï†²%{T-} {
	bindsym e [urgent=latest] focus, mode "default"
	bindsym l exec ~/bin/x11lock, mode "default"
	bindsym Shift+d floating toggle, mode "default"
	bindsym i $menu/pulse input, mode "default"
	bindsym o $menu/pulse output, mode "default"
	bindsym m $menu/xprop, mode "default"
	bindsym Shift+t $menu/xsettings gtk, mode "default"
	bindsym Shift+i $menu/xsettings icon, mode "default"
	bindsym f $circle subtag web firefox, mode "default"
	bindsym 5 $circle subtag web tor, mode "default"
	bindsym t $scratchpad subtag im tel, mode "default"
	bindsym a $scratchpad toggle transients, mode "default"
	bindsym w $scratchpad toggle webcam, mode "default"
	bindsym Return, mode "default"
	bindsym Escape, mode "default"
	bindsym space, mode "default"
	bindsym Control+C, mode "default"
	bindsym Control+G, mode "default"
}

# :>> Config section wm
bindsym Mod4+minus mode "%{T4}ï€‰%{T-}"
mode %{T4}ï€‰%{T-} {
	bindsym grave layout default, mode "default"
	bindsym minus layout splith, mode "default"
	bindsym backslash layout splitv, mode "default"
	bindsym t layout tabbed, mode "default"

	bindsym Tab layout toggle

	bindsym Shift+h split horizontal, mode "default"
	bindsym Shift+l split horizontal, mode "default"
	bindsym Shift+j split vertical, mode "default"
	bindsym Shift+k split vertical, mode "default"

	bindsym w move up
	bindsym a move left
	bindsym s move down
	bindsym d move right

	bindsym Shift+w $actions x2 hdown
	bindsym Shift+a $actions x2 hup
	bindsym Shift+s $actions x2 vleft
	bindsym Shift+d $actions x2 vright

	bindsym Shift+plus $actions grow
	bindsym x $actions maxhor
	bindsym m $actions maximize
	bindsym y $actions maxvert
	bindsym c $actions none
	bindsym Shift+c $actions resize
	bindsym Shift+m $actions revert_maximize
	bindsym Shift+x $actions revert_maximize
	bindsym Shift+y $actions revert_maximize
	bindsym Shift+minus $actions shrink
	bindsym Return, mode "default"
	bindsym Escape, mode "default"
	bindsym space, mode "default"
	bindsym Control+C, mode "default"
	bindsym Control+G, mode "default"
}

# :>> Config section wallpaper
bindsym Mod4+Shift+6 mode "%{T4}ï€¾%{T-}"
mode %{T4}ï€¾%{T-} {
	bindsym 6 exec --no-startup-id ~/bin/wl
	bindsym Mod4+Shift+6 exec --no-startup-id ~/bin/wl
	bindsym Shift+6 exec --no-startup-id ~/bin/wl
	bindsym m exec --no-startup-id ~/bin/wl-convert mono
	bindsym n exec --no-startup-id ~/bin/wl-convert normal
	bindsym r exec --no-startup-id ~/bin/wl-convert retro

	bindsym Space  , mode "default"
	bindsym q  , mode "default"
	bindsym c $circle next nsxiv, mode "default"
	bindsym Shift+c $circle subtag nsxiv wallpaper, mode "default"
	bindsym Return, mode "default"
	bindsym Escape, mode "default"
	bindsym space, mode "default"
	bindsym Control+C, mode "default"
	bindsym Control+G, mode "default"
}

# vim:filetype=i3config
